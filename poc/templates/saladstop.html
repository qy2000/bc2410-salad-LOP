{% extends 'nouislider_libraries.html' %} 
{% block head %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
{% endblock %}
{% block body %}
<!-- <div class="example">
 <div class="view">
     <p> noUiSliderber test </p><br><br>
 <div id="testslider" style="width:200px;"></div> -->
<!--  <br>
 <button id="read-button">read min-max</button>
 <br><br>
 minvalue<br>
 <span id="lower-value"></span><br>
 <span id="lower-offset"></span><br>
 maxvalue<br>
 <span id="upper-value"></span><br>
 <span id="upper-offset"></span><br> -->
<!-- <div class="form">
<div class="title">Welcome</div>
<div class="subtitle">Let's create your account!</div>
<div class="input-container ic1">
<input id="firstname" class="input" type="text" placeholder=" " />
<div class="cut"></div>
<label for="firstname" class="placeholder">First name</label>
</div>
<div class="input-container ic2">
<input id="lastname" class="input" type="text" placeholder=" " />
<div class="cut"></div>
<label for="lastname" class="placeholder">Last name</label>
</div>
<div class="input-container ic2">
<input id="email" class="input" type="text" placeholder=" " />
<div class="cut cut-short"></div>
<label for="email" class="placeholder">Email</label>
</div>
<button type="text" class="submit">submit</button>
</div> -->

<h1>Welcome to SaladStop!</h1>
<h2>Please indicate your preferences.</h2>
<form action="/" method = "POST">
{% for diet in injection["dietary_arr"] %}
<h4>{{diet}}</h4>
<div class="slider_component">
    <div class="left_value value">
        <span name="min_{{diet}}" id="{{diet}}-lower-value"></span>
        <input type="hidden" name="min_{{diet}}" id="{{diet}}-input-lower-value" />
    </div>
    <div class="slider_component_itself_wrapper">
        <div id="{{diet}}" class="slider_component_itself"></div>
    </div>
    <div class="right_value value">
        <span name="max_{{diet}}" id="{{diet}}-upper-value"></span>
        <input type="hidden" name="max_{{diet}}" id="{{diet}}-input-upper-value" />
    </div>
</div>
<script>
$('#{{diet}}').noUiSlider({
    start: [ 0, 1000 ],
    connect: true,
    range: {
        'min': 0,
        'max': 1000
    }
});
$("#{{diet}}").Link("lower").to($("#{{diet}}-lower-value"));
$("#{{diet}}").Link("lower").to($("#{{diet}}-input-lower-value"));
$("#{{diet}}").Link("upper").to($("#{{diet}}-upper-value"));
$("#{{diet}}").Link("upper").to($("#{{diet}}-input-upper-value"));
</script>
{% endfor %}
<table border="1">
<!-- <thead>
<tr><td colspan="3", align="center">Nutritional Preferences</td></tr>
<tr>
    <th></th>
    <th>Min</th>
    <th colspan="1">Max</th>
</tr>
</thead>

<tbody>
<tr>
    <td>Calories</td>
    <td><input type="text" name="min_cal"></td>
    <td><input type="text" name="max_cal"></td>
</tr>
<tr>
    <td>Carbohydrates</td>
    <td><input type="text" name="min_carb"></td>
    <td><input type="text" name="max_carb"></td>
</tr>
<tr>
    <td>Proteins</td>
    <td><input type="text" name="min_pro"></td>
    <td><input type="text" name="max_pro"></td>
</tr>
<tr>
    <td>Fats</td>
    <td><input type="text" name="min_fat"></td>
    <td><input type="text" name="max_fat"></td>
</tr>
<tr>
    <td>Sugar</td>
    <td><input type="text" name="min_sug"></td>
    <td><input type="text" name="max_sug"></td>
</tr>
<tr>
    <td>Sodium</td>
    <td><input type="text" name="min_sod"></td>
    <td><input type="text" name="max_sod"></td>
</tr> -->
<tr><td colspan="3", align="center">Dietary Restrictions</td></tr>
<tr>
    <th></th>
    <th>Yes</th>
    <th colspan="1">No</th>
</tr>
<tr>
    <td>I am Vegan</td>
    <td colspan="1"><input type="checkbox" id="Vegan" name="dietary_req" value="1"></td>
    <td colspan="1"><input type="checkbox" id="Vegan" name="dietary_req" value="0"></td>
</tr>
<tr>
    <td>I am Vegetarian</td>
    <td colspan="1"><input type="checkbox" id="Vegetarian" name="dietary_req" value="1"></td>
    <td colspan="1"><input type="checkbox" id="Vegetarian" name="dietary_req" value="0"></td>
</tr>
<tr>
    <td>I want Gluten-Free options only</td>
    <td colspan="1"><input type="checkbox" id="Gluten" name="dietary_req" value="1"></td>
    <td colspan="1"><input type="checkbox" id="Gluten" name="dietary_req" value="0"></td>
</tr>
<tr>
    <td>I cannot take dairy</td>
    <td colspan="1"><input type="checkbox" id="Dairy" name="dietary_req" value="1"></td>
    <td colspan="1"><input type="checkbox" id="Dairy" name="dietary_req" value="0"></td>
</tr>
<tr>
    <td>I am allergic to nuts</td>
    <td colspan="1"><input type="checkbox" id="Nuts" name="dietary_req" value="1"></td>
    <td colspan="1"><input type="checkbox" id="Nuts" name="dietary_req" value="0"></td>
</tr>
<tr>
    <td>I cannot take spice</td>
    <td colspan="1"><input type="checkbox" id="Spice" name="dietary_req" value="1"></td>
    <td colspan="1"><input type="checkbox" id="Spice" name="dietary_req" value="0"></td>
</tr>
<tr><td colspan="3", align="center">Cost Preferences</td></tr>
<tr>
    <td>How many premium toppings would you like to have?</td>
    <td colspan="2"><input type="text" name="Max_Premium_Toppings"></td>
</tr>
<tr>
    <td>What's your budget in SGD? </td>
    <td colspan="2"><input type="text" name="Budget"></td>
</tr>
<tr>
    <td colspan="3", align = "center"><input type="submit" value="Submit Preferences"></td>
        </tr>
</tbody>
</table>
</form>

{% endblock %}
{% block footer %}
{% endblock %}


<!-- <link rel="stylesheet" href="{{ url_for('static', filename='nouislider.css') }}"></link>
<script src="{{ url_for('static', filename='nouislider.js') }}"></script>
<script type="module">
import noUiSlider from './static/nouislider.mjs';
var slider = document.getElementById('calories');

noUiSlider.create(slider, {
    start: [20, 80],
    connect: true,
    range: {
        'min': 0,
        'max': 100
    }
    
});
</script> -->